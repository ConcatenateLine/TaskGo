<!-- Startup Loader -->
@if (isLoading() || (!isAppReady() && !startupError())) {
  <app-startup-loader />
} @else {
  <!-- Navigation -->
  <app-navigation />

  <!-- Startup Error Message -->
  @if (startupError()) {
  <div class="app__startup-error" role="alert" aria-live="assertive">
    <span class="app__error-icon">⚠️</span>
    <div>
      <strong>Startup Error:</strong> {{ startupError() }}
      @if (startupWarnings().length > 0) {
      <div class="startup-warnings">
        @for (warning of startupWarnings(); track warning) {
        <div class="warning-item">• {{ warning }}</div>
        }
      </div>
      }
    </div>
  </div>
  }

  <main class="app-main">
    <router-outlet />
  </main>
}
